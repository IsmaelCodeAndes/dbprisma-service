generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model proyectos { 
  id           String      @id @default(uuid()) @db.Uuid
  name         String      @db.VarChar(100)
  location     String
  started_at   DateTime?
  completed_at DateTime?
  budget       Decimal     @db.Decimal(12, 2)
  phone        String      @db.VarChar(20)
  created_at   DateTime?   @default(now()) @db.Timestamp(6)
}

model agencias {
  id         String    @id @default(uuid()) @db.Uuid
  name       String    @db.VarChar(100)
  address    String
  ruc        String
  created_at DateTime? @default(now()) @db.Timestamp(6)
}

model AgenciaProyecto {
  id         String   @id @default(uuid())
  agency_id  String
  project_id String
  created_at DateTime @default(now())

  @@unique([agency_id, project_id])
  @@index([agency_id])
  @@index([project_id])
  @@map("agency_projects")
}

model empresa {
  empresa_id       Int      @id @default(autoincrement())
  razon_social     String
  ruc              String
  direccion        String
  telefono         String
  correo           String
  logo_url         String
  es_activa        Boolean  @default(true)
  created_at       DateTime @default(now())
  updated_at       DateTime @updatedAt
  nombre_comercial String
}

model proyectos_inmobiliarios {
  proyecto_id        Int      @id @default(autoincrement())
  empresa_id         Int?
  nombre             String   
  ubicacion          String   
  descripcion        String?  
  fecha_inicio       DateTime 
  fecha_fin          DateTime? 
  estado_propiedad   String   
  created_at         DateTime @default(now())
  updated_at         DateTime @updatedAt
  telefono_contacto  String? 
  email_contacto     String? 
  ciudad             String? 
}

model personas {
  persona_id           Int      @id @default(autoincrement())
  nombre               String
  apellido_paterno     String
  apellido_materno     String
  tipo_documento_id    Int
  numero_documento     String   @unique
  telefono_principal   String
  telefono_secundario  String?
  direccion            String
  correo_electronico   String   @unique
  fecha_nacimiento     DateTime
  genero_id            Int
  created_at           DateTime @default(now())
  updated_at           DateTime @updatedAt
}
